webpackJsonp([0],{100:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(214);e.client=new r.Client({uri:"ws://h.krik.co:9000",protocol:"user-interface"})},110:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var i="The player must be initialized before performing this action.",a={isPlaying:!1,currentTrack:null},s=function(){function t(){this.player=null,this.playerState=a,this.tracks=[]}return t.prototype.initialize=function(){var t=this;if(null!==this.player)throw new Error("The player is already initialized.");return new Promise(function(e,n){t.player=document.createElement("audio"),t.player.setAttribute("preload","none"),t.player.onplaying=function(e){t.playerState.isPlaying=!0},t.player.onpause=function(e){t.playerState.isPlaying=!1}})},t.prototype.dispose=function(){return r(this,void 0,void 0,function(){return o(this,function(t){return null===this.player?[2]:(this.tracks=[],this.playerState=a,this.player=null,[2])})})},t.prototype.setTracks=function(t){return r(this,void 0,void 0,function(){return o(this,function(e){return this.tracks=t,this.setActiveTrack(t[0]),[2]})})},t.prototype.play=function(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:if(null===this.player)throw new Error(i);return[4,this.player.play()];case 1:return t.sent(),[2]}})})},t.prototype.pause=function(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:if(null===this.player)throw new Error(i);return[4,this.player.pause()];case 1:return t.sent(),[2]}})})},t.prototype.nextTrack=function(){return r(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.previousTrack=function(){return r(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.setActiveTrack=function(t){return r(this,void 0,void 0,function(){return o(this,function(e){if(null===this.player)throw new Error(i);return void 0===t?(this.player.removeAttribute("src"),[2]):(this.player.src=this.tracks[0].uri,this.playerState.currentTrack=t,[2])})})},t}();e.StreamPlayer=s},111:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);n(234);var o=function(t){var e=t.isVisible,n=t.children;return e?r.createElement("div",{className:"overlay"},n):null};e.default=o},112:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(104);n.d(e,"MemoryRouter",function(){return r.a});var o=n(105);n.d(e,"Prompt",function(){return o.a});var i=n(106);n.d(e,"Redirect",function(){return i.a});var a=n(60);n.d(e,"Route",function(){return a.a});var s=n(37);n.d(e,"Router",function(){return s.a});var u=n(107);n.d(e,"StaticRouter",function(){return u.a});var c=n(108);n.d(e,"Switch",function(){return c.a});var l=n(38);n.d(e,"matchPath",function(){return l.a});var p=n(109);n.d(e,"withRouter",function(){return p.a})},113:function(t,e,n){t.exports=n(114)},114:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(70),i=n(56),a=n(28),s=n(213),u=n(100),c=n(215),l=i.createStore(s.appReducer);u.client.addEventListener("connect",function(){l.dispatch({type:"HUB_CONNECT"})}),u.client.addEventListener("disconnect",function(){l.dispatch({type:"HUB_DISCONNECT"})}),u.client.connect(),o.render(r.createElement(a.Provider,{store:l},r.createElement(c.default,null)),document.getElementById("app"))},16:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},i=this;Object.defineProperty(e,"__esModule",{value:!0});var a=n(232),s=n(62),u=n(63),c=!1;e.api=new a,e.browser=new s.SpotifyLibraryBrowser,e.player=new u.SpotifyPlayer,e.initialize=function(){return r(i,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:if(console.log("init"),c)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e.player.initialize()];case 2:return n.sent(),c=!0,[3,4];case 3:return t=n.sent(),"authentication"===t.type&&(window.location.hash="#/spotify/connect"),[3,4];case 4:return[2]}})})},e.dispose=function(){return r(i,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return c?[4,e.player.dispose()]:[3,2];case 1:t.sent(),c=!1,t.label=2;case 2:return[2]}})})}},205:function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(e,n(97))},206:function(t,e,n){"use strict";(function(t,r){var o,i=n(208);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:r;var a=Object(i.a)(o);e.a=a}).call(e,n(97),n(207)(t))},207:function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},208:function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}e.a=r},209:function(t,e,n){"use strict";var r=n(210),o=n(211),i=n(212);t.exports=function(){function t(t,e,n,r,a,s){s!==i&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},210:function(t,e,n){"use strict";function r(t){return function(){return t}}var o=function(){};o.thatReturns=r,o.thatReturnsFalse=r(!1),o.thatReturnsTrue=r(!0),o.thatReturnsNull=r(null),o.thatReturnsThis=function(){return this},o.thatReturnsArgument=function(t){return t},t.exports=o},211:function(t,e,n){"use strict";function r(t,e,n,r,i,a,s,u){if(o(e),!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,s,u],p=0;c=new Error(e.replace(/%s/g,function(){return l[p++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}}var o=function(t){};t.exports=r},212:function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},213:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(56);e.appReducer=r.combineReducers({isHubConnected:function(t,e){switch(void 0===t&&(t=!1),e.type){case"HUB_CONNECT":return!0;case"HUB_DISCONNECT":return!1}return t},audio:function(t,e){return void 0===t&&(t={selectedSource:"spotify"}),t}})},214:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s="The client must be connected to perform this action.",u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e}(Error);e.ClientNotConnectedError=u;var c=function(){function t(t){var e=this;this.onSocketOpen=function(){void 0!==e.eventListeners.connect&&e.eventListeners.connect.forEach(function(t){return t(void 0)})},this.onSocketError=function(t){void 0!==e.eventListeners.error&&e.eventListeners.error.forEach(function(e){return e(t.message)})},this.onSocketMessage=function(t){return e.onMessage(t)},this.onSocketClose=function(){void 0!==e.eventListeners.disconnect&&e.eventListeners.disconnect.forEach(function(t){return t(void 0)});var t=setInterval(function(){if(e.isConnected)return void clearInterval(t);e.disconnect(),e.connect()},5e3)},this.config=t,this.requestResolutionMap=new Map,this.eventListeners={},this.socket=null,this.onRequestHandler=null}return Object.defineProperty(t.prototype,"isConnected",{get:function(){return null!==this.socket&&this.socket.readyState===WebSocket.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"onRequest",{set:function(t){if(null!==this.onRequestHandler)throw new Error("The onRequest handler has already been assigned.");this.onRequestHandler=t},enumerable:!0,configurable:!0}),t.prototype.addEventListener=function(t,e){var n=this.eventListeners[t]||[];n.push(e),this.eventListeners[t]=n},t.prototype.removeEventListener=function(t,e){var n=this.eventListeners[t];if(void 0!==n){var r=n.indexOf(e);n.splice(r,1)}},t.prototype.connect=function(){if(null!==this.socket)throw new Error("The client is already connected.");this.socket=new WebSocket(this.config.uri,this.config.protocol),this.socket.addEventListener("open",this.onSocketOpen),this.socket.addEventListener("close",this.onSocketClose),this.socket.addEventListener("error",this.onSocketError),this.socket.addEventListener("message",this.onSocketMessage)},t.prototype.disconnect=function(){if(null===this.socket)throw new u(s);this.socket.removeEventListener("open",this.onSocketOpen),this.socket.removeEventListener("close",this.onSocketClose),this.socket.removeEventListener("error",this.onSocketError),this.socket.removeEventListener("message",this.onSocketMessage),this.socket.readyState!==WebSocket.CLOSED&&this.socket.close(),this.socket=null},t.prototype.publish=function(t,e){if(null===this.socket)throw new u(s);if(this.socket.readyState!==WebSocket.OPEN)throw new u("The client is not in a valid state to perform this action. (state: "+this.socket.readyState+")");this.socket.send(JSON.stringify({type:"event",origin:this.config.protocol,name:t,data:e}))},t.prototype.request=function(t,e,n){return i(this,void 0,void 0,function(){var r,i,s,u=this;return a(this,function(a){switch(a.label){case 0:return r=this.generateRequestId(),i=new Promise(function(i,a){u.requestResolutionMap.set(r,i),u.sendMessage({type:"request",destination:t,name:e,data:o({_requestId:r},n)}),setTimeout(function(){a("The request has timed out."),u.requestResolutionMap.delete(r)},1e4)}),[4,i];case 1:return s=a.sent(),this.requestResolutionMap.delete(r),[2,s]}})})},t.prototype.onMessage=function(t){var e=JSON.parse(t.data);switch(e.type){case"event":this.onEventReceived(e);break;case"request":this.onRequestReceived(e);break;case"response":case"error":this.onResponseReceived(e);break;default:throw new Error("Invalid message type received: '"+e.type+"'.")}},t.prototype.onEventReceived=function(t){var e=this.eventListeners[t.name];"object"==typeof e&&void 0!==e.length&&e.forEach(function(e){return e(t)})},t.prototype.onRequestReceived=function(t){return i(this,void 0,void 0,function(){var e,n;return a(this,function(r){switch(r.label){case 0:if(null===this.onRequestHandler)return console.warn("A request was received but no onRequest handler has been set."),[2];if(void 0===t.origin)throw new Error("An invalid request was received.");r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.onRequestHandler(t)];case 2:return e=r.sent(),this.sendMessage({type:"response",destination:t.origin,request:t,data:o({},e,{request:t})}),[3,4];case 3:return n=r.sent(),this.sendMessage({type:"error",destination:t.origin,request:t,data:{error:n.message}}),[3,4];case 4:return[2]}})})},t.prototype.onResponseReceived=function(t){var e=t.request.data._requestId,n=this.requestResolutionMap.get(e);"function"==typeof n&&(n(t.data),this.requestResolutionMap.delete(e))},t.prototype.generateRequestId=function(){var t=(new Date).getTime(),e=Math.random();return Math.ceil(t*e).toString()},t.prototype.sendMessage=function(t){if(null===this.socket)throw new u(s);if(this.socket.readyState!==WebSocket.OPEN)throw new u("The client is not in a valid state to perform this action. (state: "+this.socket.readyState+")");this.socket.send(JSON.stringify(t))},t}();e.Client=c},215:function(t,e,n){"use strict";var r=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t};Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(28),a=n(29);n(222);var s=n(223),u=n(225),c=n(229),l=n(238),p=n(243),f=function(t){var e=t.isHubConnected;return o.createElement(a.HashRouter,null,o.createElement("div",{className:"app-container"},o.createElement(s.default,{isHubConnected:e}),o.createElement("div",{className:"app-content"},o.createElement(a.Switch,null,o.createElement(a.Route,{exact:!0,path:"/",component:u.default}),o.createElement(a.Route,{path:"/audio",component:c.default}),o.createElement(a.Route,{path:"/navigation",component:l.default}),o.createElement(a.Route,{path:"/spotify/connect",render:function(t){return o.createElement(p.default,r({isHubConnected:e},t))}})))))},d=function(t){return{isHubConnected:t.isHubConnected}},h=function(t){return{}};e.default=i.connect(d,h)(f)},22:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(){this.activeSourceContainer=null}return Object.defineProperty(t.prototype,"activeSource",{get:function(){if(null===this.activeSourceContainer)return null;var t=this.activeSourceContainer.key,e=this.activeSourceContainer.module;return{key:t,browser:e.browser,player:e.player}},enumerable:!0,configurable:!0}),t.prototype.setActiveSource=function(t){return r(this,void 0,void 0,function(){var e;return o(this,function(r){switch(r.label){case 0:return null===this.activeSourceContainer||this.activeSourceContainer.key===t?[3,2]:[4,this.activeSourceContainer.module.dispose()];case 1:r.sent(),r.label=2;case 2:return[4,Promise.resolve().then(function(){return n(231)("./"+t)})];case 3:return e=r.sent(),this.activeSourceContainer={key:t,module:e},[4,e.initialize()];case 4:return r.sent(),[2,this.activeSource]}})})},t}();e.audioSourceService=new i,function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(61))},222:function(t,e){},223:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(29);n(224);var i=function(t){var e=t.location,n=t.history,i=t.isHubConnected,a="/"===e.pathname,s=function(t){t.preventDefault(),a||n.goBack()};return r.createElement("nav",{className:"app-nav"},r.createElement("ul",null,r.createElement("li",{style:{visibility:a?"hidden":void 0}},r.createElement("a",{href:"#",onClick:s},r.createElement("span",{className:"glyphicon glyphicon-chevron-left"})," Back")),r.createElement("li",null,r.createElement(o.Link,{to:"/"},r.createElement("span",{className:"glyphicon glyphicon-home"})," Home")),r.createElement("li",null,r.createElement("span",{className:"glyphicon glyphicon-"+(i?"cloud text-success":"refresh text-warning")}))))};e.default=o.withRouter(i)},224:function(t,e){},225:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(28);n(226);var i=n(227),a=function(t){var e=[{route:"/audio",className:"audio"},{route:"/navigation",className:"navigation"},{route:"/settings",className:"settings"},{route:"/test/list",className:"list"}];return r.createElement("div",{className:"container-fluid"},r.createElement(i.default,{rowLength:3,items:e}))},s=function(t){return{}},u=function(t){return{}};e.default=o.connect(s,u)(a)},226:function(t,e){},227:function(t,e,n){"use strict";function r(t){var e=t.items,n=t.rowLength,r=void 0===n?3:n,a=t.onItemSelect,s="col-xs-"+12/r,u=e.map(function(t,e){return o.createElement("li",{key:e,className:s},o.createElement(i.Link,{to:t.route,onClick:function(){a&&a(t)}},o.createElement("div",{className:"menu-item "+t.className}," ")))});return o.createElement("ul",{className:"menu"},u)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),i=n(29);n(228),e.default=r},228:function(t,e){},229:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__assign||Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var s=n(3),u=n(28),c=n(29);n(230);var l=n(22),p=n(233),f=n(236),d=function(t){function e(e){var n=t.call(this,e)||this;return n.state={audioSource:null},n}return r(e,t),e.prototype.componentDidMount=function(){return i(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return[4,l.audioSourceService.setActiveSource(this.props.selectedSource)];case 1:return t=e.sent(),this.setState({audioSource:t}),[2]}})})},e.prototype.render=function(){var t=this.state.audioSource,e=this.props.match.url;return s.createElement("div",{className:"audio"},s.createElement(c.Switch,null,s.createElement(c.Route,{exact:!0,path:e,render:function(e){return s.createElement(p.default,o({audioSource:t},e))}}),s.createElement(c.Route,{path:e+"/browse",render:function(e){return s.createElement(f.default,o({audioSource:t},e))}})))},e}(s.Component),h=function(t){return{isHubConnected:t.isHubConnected,selectedSource:t.audio.selectedSource}},y=function(t){return{}};e.default=u.connect(h,y)(d)},230:function(t,e){},231:function(t,e,n){function r(t){return n(o(t))}function o(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}var i={"./":22,"./audio":61,"./audio.ts":61,"./index":22,"./index.ts":22,"./spotify":16,"./spotify/":16,"./spotify/index":16,"./spotify/index.ts":16,"./spotify/spotify-browser":62,"./spotify/spotify-browser.ts":62,"./spotify/spotify-player":63,"./spotify/spotify-player.ts":63,"./stream-player":110,"./stream-player.ts":110};r.keys=function(){return Object.keys(i)},r.resolve=o,t.exports=r,r.id=231},232:function(t,e,n){"use strict";var r=function(){var t="https://api.spotify.com/v1",e=null,n=null,o=function(t,e){return t.abort=e,t},i=function(t,e){var r;if(null!==n){var i=n.defer();t(function(t){i.resolve(t)},function(t){i.reject(t)}),r=i.promise}else window.Promise&&(r=new window.Promise(t));return r?new o(r,e):null},a=function(){var t=Array.prototype.slice.call(arguments),e=t[0],n=t.slice(1);return e=e||{},n.forEach(function(t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}),e},s=function(t,e){var n="";for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];n+=encodeURIComponent(r)+"="+encodeURIComponent(o)+"&"}return n.length>0&&(n=n.substring(0,n.length-1),t=t+"?"+n),t},u=function(t,n){var r=new XMLHttpRequest,o=function(o,i){function a(t){o&&o(t),n&&n(null,t)}function u(){i&&i(r),n&&n(r,null)}var c=t.type||"GET";if(r.open(c,s(t.url,t.params)),e&&r.setRequestHeader("Authorization","Bearer "+e),t.contentType&&r.setRequestHeader("Content-Type",t.contentType),r.onreadystatechange=function(){if(4===r.readyState){var t=null;try{t=r.responseText?JSON.parse(r.responseText):""}catch(t){console.error(t)}r.status>=200&&r.status<300?a(t):u()}},"GET"===c)r.send(null);else{var l=null;t.postData&&(l="image/jpeg"===t.contentType?t.postData:JSON.stringify(t.postData)),r.send(l)}};return n?(o(),null):i(o,function(){r.abort()})},c=function(t,e,n,r){var o={},i=null;return"object"==typeof e?(o=e,i=n):"function"==typeof e&&(i=e),"GET"!==(t.type||"GET")&&t.postData&&!r?t.postData=a(t.postData,o):t.params=a(t.params,o),u(t,i)},l=function(){};return l.prototype={constructor:r},l.prototype.getGeneric=function(t,e){return c({url:t},e)},l.prototype.getMe=function(e,n){return c({url:t+"/me"},e,n)},l.prototype.getMySavedTracks=function(e,n){return c({url:t+"/me/tracks"},e,n)},l.prototype.addToMySavedTracks=function(e,n,r){return c({url:t+"/me/tracks",type:"PUT",postData:e},n,r)},l.prototype.removeFromMySavedTracks=function(e,n,r){return c({url:t+"/me/tracks",type:"DELETE",postData:e},n,r)},l.prototype.containsMySavedTracks=function(e,n,r){var o={url:t+"/me/tracks/contains",params:{ids:e.join(",")}};return c(o,n,r)},l.prototype.getMySavedAlbums=function(e,n){return c({url:t+"/me/albums"},e,n)},l.prototype.addToMySavedAlbums=function(e,n,r){return c({url:t+"/me/albums",type:"PUT",postData:e},n,r)},l.prototype.removeFromMySavedAlbums=function(e,n,r){return c({url:t+"/me/albums",type:"DELETE",postData:e},n,r)},l.prototype.containsMySavedAlbums=function(e,n,r){var o={url:t+"/me/albums/contains",params:{ids:e.join(",")}};return c(o,n,r)},l.prototype.getMyTopArtists=function(e,n){return c({url:t+"/me/top/artists"},e,n)},l.prototype.getMyTopTracks=function(e,n){return c({url:t+"/me/top/tracks"},e,n)},l.prototype.getMyRecentlyPlayedTracks=function(e,n){return c({url:t+"/me/player/recently-played"},e,n)},l.prototype.followUsers=function(e,n){var r={url:t+"/me/following/",type:"PUT",params:{ids:e.join(","),type:"user"}};return c(r,n)},l.prototype.followArtists=function(e,n){var r={url:t+"/me/following/",type:"PUT",params:{ids:e.join(","),type:"artist"}};return c(r,n)},l.prototype.followPlaylist=function(e,n,r,o){var i={url:t+"/users/"+encodeURIComponent(e)+"/playlists/"+n+"/followers",type:"PUT",postData:{}};return c(i,r,o)},l.prototype.unfollowUsers=function(e,n){var r={url:t+"/me/following/",type:"DELETE",params:{ids:e.join(","),type:"user"}};return c(r,n)},l.prototype.unfollowArtists=function(e,n){var r={url:t+"/me/following/",type:"DELETE",params:{ids:e.join(","),type:"artist"}};return c(r,n)},l.prototype.unfollowPlaylist=function(e,n,r){var o={url:t+"/users/"+encodeURIComponent(e)+"/playlists/"+n+"/followers",type:"DELETE"};return c(o,r)},l.prototype.isFollowingUsers=function(e,n){var r={url:t+"/me/following/contains",type:"GET",params:{ids:e.join(","),type:"user"}};return c(r,n)},l.prototype.isFollowingArtists=function(e,n){var r={url:t+"/me/following/contains",type:"GET",params:{ids:e.join(","),type:"artist"}};return c(r,n)},l.prototype.areFollowingPlaylist=function(e,n,r,o){var i={url:t+"/users/"+encodeURIComponent(e)+"/playlists/"+n+"/followers/contains",type:"GET",params:{ids:r.join(",")}};return c(i,o)},l.prototype.getFollowedArtists=function(e,n){return c({url:t+"/me/following",type:"GET",params:{type:"artist"}},e,n)},l.prototype.getUser=function(e,n,r){var o={url:t+"/users/"+encodeURIComponent(e)};return c(o,n,r)},l.prototype.getUserPlaylists=function(e,n,r){var o;return"string"==typeof e?o={url:t+"/users/"+encodeURIComponent(e)+"/playlists"}:(o={url:t+"/me/playlists"},r=n,n=e),c(o,n,r)},l.prototype.getPlaylist=function(e,n,r,o){var i={url:t+"/users/"+encodeURIComponent(e)+"/playlists/"+n};return c(i,r,o)},l.prototype.getPlaylistTracks=function(e,n,r,o){var i={url:t+"/users/"+encodeURIComponent(e)+"/playlists/"+n+"/tracks"};return c(i,r,o)},l.prototype.createPlaylist=function(e,n,r){var o={url:t+"/users/"+encodeURIComponent(e)+"/playlists",type:"POST",postData:n};return c(o,n,r)},l.prototype.changePlaylistDetails=function(e,n,r,o){var i={url:t+"/users/"+encodeURIComponent(e)+"/playlists/"+n,type:"PUT",postData:r};return c(i,r,o)},l.prototype.addTracksToPlaylist=function(e,n,r,o,i){var a={url:t+"/users/"+encodeURIComponent(e)+"/playlists/"+n+"/tracks",type:"POST",postData:{uris:r}};return c(a,o,i,!0)},l.prototype.replaceTracksInPlaylist=function(e,n,r,o){var i={url:t+"/users/"+encodeURIComponent(e)+"/playlists/"+n+"/tracks",type:"PUT",postData:{uris:r}};return c(i,{},o)},l.prototype.reorderTracksInPlaylist=function(e,n,r,o,i,a){var s={url:t+"/users/"+encodeURIComponent(e)+"/playlists/"+n+"/tracks",type:"PUT",postData:{range_start:r,insert_before:o}};return c(s,i,a)},l.prototype.removeTracksFromPlaylist=function(e,n,r,o){var i=r.map(function(t){return"string"==typeof t?{uri:t}:t}),a={url:t+"/users/"+encodeURIComponent(e)+"/playlists/"+n+"/tracks",type:"DELETE",postData:{tracks:i}};return c(a,{},o)},l.prototype.removeTracksFromPlaylistWithSnapshotId=function(e,n,r,o,i){var a=r.map(function(t){return"string"==typeof t?{uri:t}:t}),s={url:t+"/users/"+encodeURIComponent(e)+"/playlists/"+n+"/tracks",type:"DELETE",postData:{tracks:a,snapshot_id:o}};return c(s,{},i)},l.prototype.removeTracksFromPlaylistInPositions=function(e,n,r,o,i){var a={url:t+"/users/"+encodeURIComponent(e)+"/playlists/"+n+"/tracks",type:"DELETE",postData:{positions:r,snapshot_id:o}};return c(a,{},i)},l.prototype.uploadCustomPlaylistCoverImage=function(e,n,r,o){var i={url:t+"/users/"+encodeURIComponent(e)+"/playlists/"+n+"/images",type:"PUT",postData:r.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return c(i,{},o)},l.prototype.getAlbum=function(e,n,r){return c({url:t+"/albums/"+e},n,r)},l.prototype.getAlbumTracks=function(e,n,r){return c({url:t+"/albums/"+e+"/tracks"},n,r)},l.prototype.getAlbums=function(e,n,r){var o={url:t+"/albums/",params:{ids:e.join(",")}};return c(o,n,r)},l.prototype.getTrack=function(e,n,r){var o={};return o.url=t+"/tracks/"+e,c(o,n,r)},l.prototype.getTracks=function(e,n,r){var o={url:t+"/tracks/",params:{ids:e.join(",")}};return c(o,n,r)},l.prototype.getArtist=function(e,n,r){return c({url:t+"/artists/"+e},n,r)},l.prototype.getArtists=function(e,n,r){var o={url:t+"/artists/",params:{ids:e.join(",")}};return c(o,n,r)},l.prototype.getArtistAlbums=function(e,n,r){return c({url:t+"/artists/"+e+"/albums"},n,r)},l.prototype.getArtistTopTracks=function(e,n,r,o){return c({url:t+"/artists/"+e+"/top-tracks",params:{country:n}},r,o)},l.prototype.getArtistRelatedArtists=function(e,n,r){return c({url:t+"/artists/"+e+"/related-artists"},n,r)},l.prototype.getFeaturedPlaylists=function(e,n){return c({url:t+"/browse/featured-playlists"},e,n)},l.prototype.getNewReleases=function(e,n){return c({url:t+"/browse/new-releases"},e,n)},l.prototype.getCategories=function(e,n){return c({url:t+"/browse/categories"},e,n)},l.prototype.getCategory=function(e,n,r){return c({url:t+"/browse/categories/"+e},n,r)},l.prototype.getCategoryPlaylists=function(e,n,r){return c({url:t+"/browse/categories/"+e+"/playlists"},n,r)},l.prototype.search=function(e,n,r,o){var i={url:t+"/search/",params:{q:e,type:n.join(",")}};return c(i,r,o)},l.prototype.searchAlbums=function(t,e,n){return this.search(t,["album"],e,n)},l.prototype.searchArtists=function(t,e,n){return this.search(t,["artist"],e,n)},l.prototype.searchTracks=function(t,e,n){return this.search(t,["track"],e,n)},l.prototype.searchPlaylists=function(t,e,n){return this.search(t,["playlist"],e,n)},l.prototype.getAudioFeaturesForTrack=function(e,n){var r={};return r.url=t+"/audio-features/"+e,c(r,{},n)},l.prototype.getAudioFeaturesForTracks=function(e,n){return c({url:t+"/audio-features",params:{ids:e}},{},n)},l.prototype.getAudioAnalysisForTrack=function(e,n){var r={};return r.url=t+"/audio-analysis/"+e,c(r,{},n)},l.prototype.getRecommendations=function(e,n){return c({url:t+"/recommendations"},e,n)},l.prototype.getAvailableGenreSeeds=function(e){return c({url:t+"/recommendations/available-genre-seeds"},{},e)},l.prototype.getMyDevices=function(e){return c({url:t+"/me/player/devices"},{},e)},l.prototype.getMyCurrentPlaybackState=function(e,n){return c({url:t+"/me/player"},e,n)},l.prototype.getMyCurrentPlayingTrack=function(e,n){return c({url:t+"/me/player/currently-playing"},e,n)},l.prototype.transferMyPlayback=function(e,n,r){var o=n||{};return o.device_ids=e,c({type:"PUT",url:t+"/me/player",postData:o},n,r)},l.prototype.play=function(e,n){var r="device_id"in e?{device_id:e.device_id}:null,o={};return["context_uri","uris","offset"].forEach(function(t){t in e&&(o[t]=e[t])}),c({type:"PUT",url:t+"/me/player/play",params:r,postData:o},"function"==typeof e?e:{},n)},l.prototype.pause=function(e,n){var r="device_id"in e?{device_id:e.device_id}:null;return c({type:"PUT",url:t+"/me/player/pause",params:r},e,n)},l.prototype.skipToNext=function(e,n){var r="device_id"in e?{device_id:e.device_id}:null;return c({type:"POST",url:t+"/me/player/next",params:r},e,n)},l.prototype.skipToPrevious=function(e,n){var r="device_id"in e?{device_id:e.device_id}:null;return c({type:"POST",url:t+"/me/player/previous",params:r},e,n)},l.prototype.seek=function(e,n,r){var o={position_ms:e};return"device_id"in n&&(o.device_id=n.device_id),c({type:"PUT",url:t+"/me/player/seek",params:o},n,r)},l.prototype.setRepeat=function(e,n,r){var o={state:e};return"device_id"in n&&(o.device_id=n.device_id),c({type:"PUT",url:t+"/me/player/repeat",params:o},n,r)},l.prototype.setVolume=function(e,n,r){var o={volume_percent:e};return"device_id"in n&&(o.device_id=n.device_id),c({type:"PUT",url:t+"/me/player/volume",params:o},n,r)},l.prototype.setShuffle=function(e,n,r){var o={state:e};return"device_id"in n&&(o.device_id=n.device_id),c({type:"PUT",url:t+"/me/player/shuffle",params:o},n,r)},l.prototype.getAccessToken=function(){return e},l.prototype.setAccessToken=function(t){e=t},l.prototype.setPromiseImplementation=function(t){var e=!1;try{var r=new t(function(t){t()});"function"==typeof r.then&&"function"==typeof r.catch&&(e=!0)}catch(t){console.error(t)}if(!e)throw new Error("Unsupported implementation of Promises/A+");n=t},l}();"object"==typeof t&&"object"==typeof t.exports&&(t.exports=r)},233:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),s=n(22),u=n(111);n(235);var c=function(t){function e(e){var n=t.call(this,e)||this;return n.onPlayClick=function(){return o(n,void 0,void 0,function(){return i(this,function(t){return null!==this.props.audioSource&&this.props.audioSource.player.play(),[2]})})},n.onPauseClick=function(){return o(n,void 0,void 0,function(){return i(this,function(t){return null!==this.props.audioSource&&this.props.audioSource.player.pause(),[2]})})},n.state={playback:s.defaultPlayerState.playback},n.playbackInterval=null,n}return r(e,t),e.prototype.componentDidMount=function(){this.playbackInterval=setInterval(function(){},1e3)},e.prototype.render=function(){var t=this.props.audioSource;return a.createElement("div",{className:"audio-player with-overlay"},a.createElement("button",{onClick:this.onPlayClick},"Play!"),a.createElement(u.default,{isVisible:null===t},"Initializing the audio source"))},e}(a.Component);e.default=c},234:function(t,e){},235:function(t,e){},236:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),s=n(112);n(237);var u=function(t){function e(e){var n=t.call(this,e)||this;return n.state={isAwaitingAuthentication:!1,items:[]},n}return r(e,t),e.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var t,e;return i(this,function(n){switch(n.label){case 0:if(null===this.props.audioSource)return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.props.audioSource.browser.getCategories()];case 2:return t=n.sent(),this.setState({items:t}),[3,4];case 3:return e=n.sent(),e instanceof XMLHttpRequest&&401===e.status&&this.setState({isAwaitingAuthentication:!0}),[3,4];case 4:return[2]}})})},e.prototype.render=function(){if(this.state.isAwaitingAuthentication)return a.createElement(s.Redirect,{to:"/audio/spotify/connect"});var t=this.state.items.map(function(t){return a.createElement("div",{className:"tile",key:t.id},a.createElement("img",{width:"100%",src:t.image}),a.createElement("br",null),t.name)});return a.createElement("div",null,t)},e}(a.Component);e.default=u},237:function(t,e){},238:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(28),i=n(239),a=function(t){return r.createElement(i.default,null)},s=function(t){return{}},u=function(t){return{}};e.default=o.connect(s,u)(a)},239:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),s=n(240),u=n(111);n(242);var c=function(t){function e(e){var n=t.call(this,e)||this;return n.onPositionUpdate=function(t,e,n){var r={lat:n.coords.latitude,lng:n.coords.longitude};t.setCenter(r),e.setPosition(r)},n.onPositionError=function(t){},n.state={overlayMessage:null},n.mapContainer=null,n.locationWatcherHandle=-1,n}return r(e,t),e.prototype.componentDidMount=function(){return o(this,void 0,void 0,function(){var t,e,n,r,o;return i(this,function(i){switch(i.label){case 0:if(null===this.mapContainer)return[2];this.setState({overlayMessage:"Locating your position..."}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.getCurrentPosition(3e4)];case 2:return t=i.sent(),[3,4];case 3:return e=i.sent(),this.setState({overlayMessage:"Unable to location your position."}),[2];case 4:return this.setState({overlayMessage:"Loading map..."}),[4,s.googleMapsApiLoader.load()];case 5:return i.sent(),this.setState({overlayMessage:null}),n={lat:t.latitude,lng:t.longitude},r=s.googleMapsApiLoader.initializeMap(this.mapContainer,n),o=new google.maps.Marker({position:n,map:r}),this.locationWatcherHandle=navigator.geolocation.watchPosition(this.onPositionUpdate.bind(this,r,o),this.onPositionError),[2]}})})},e.prototype.componentWillUnmount=function(){navigator.geolocation.clearWatch(this.locationWatcherHandle)},e.prototype.render=function(){var t=this,e=this.state.overlayMessage;return a.createElement("div",{className:"navigation with-overlay"},a.createElement("div",{className:"map",ref:function(e){return t.mapContainer=e}}),a.createElement(u.default,{isVisible:null!==e},e))},e.prototype.getCurrentPosition=function(t){return new Promise(function(e,n){navigator.geolocation.getCurrentPosition(function(t){return e(t.coords)},n,{timeout:t})})},e}(a.Component);e.default=c},240:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(241),o=window.localStorage.getItem("google_maps_api_key");if(null===o)throw new Error("Cannot find a Google Maps API key. Please set the 'google_maps_api_key' key in local storage.");e.googleMapsApiLoader=new r.GoogleMapsApiLoader(o)},241:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t){this.apiKey=t,this.element=null,this.map=null}return t.prototype.load=function(){var e=this;return null!==this.map?Promise.resolve():new Promise(function(n){window[t.libraryCallback]=function(){delete window[t.libraryCallback],n()};var r=document.createElement("script");r.src="https://maps.googleapis.com/maps/api/js?key="+e.apiKey+"&callback="+t.libraryCallback,window.document.head.appendChild(r)})},t.prototype.initializeMap=function(t,e){this.element=t;var n=new google.maps.Map(t,{center:e,zoom:16,streetViewControl:!1,mapTypeControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP});return(new google.maps.TrafficLayer).setMap(n),n},t.libraryCallback="_onGoogleMapsLibraryLoaded",t}();e.GoogleMapsApiLoader=r},242:function(t,e){},243:function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var a,s=n(3),u=n(112),c=n(100),l=n(16);!function(t){t[t.AwaitingHubConnection=0]="AwaitingHubConnection",t[t.AwaitingToken=1]="AwaitingToken",t[t.Authenticated=2]="Authenticated",t[t.Error=3]="Error"}(a||(a={}));var p=function(t){function e(e){var n=t.call(this,e)||this;return n.state={authState:e.isHubConnected?a.AwaitingToken:a.AwaitingHubConnection},n}return r(e,t),e.prototype.componentDidMount=function(){if(l.api.getAccessToken())return void this.setState({authState:a.Authenticated});var t=this.getResponseFromQuery();return this.isErrorResponse(t)?void this.setState({authState:a.Error}):null!==t?(this.setAccessToken(t.accessToken),void this.setState({authState:a.Authenticated})):this.props.isHubConnected?void this.getAccessToken():void this.setState({authState:a.AwaitingHubConnection})},e.prototype.componentWillReceiveProps=function(t){this.state.authState===a.AwaitingHubConnection&&t.isHubConnected&&this.getAccessToken()},e.prototype.render=function(){switch(this.state.authState){case a.Authenticated:return s.createElement(u.Redirect,{to:"/audio"});case a.AwaitingHubConnection:return s.createElement("span",null,"Awaiting connection with hub...");case a.AwaitingToken:return s.createElement("span",null,"Awaiting token from hub...");default:return s.createElement("span",null,"Encountered an error while authenticating with Spotify.")}},e.prototype.getResponseFromQuery=function(){var t=new URLSearchParams(this.props.location.search),e=t.get("error");if(e)return{error:e};var n=t.get("accessToken");return null!==n?{accessToken:n}:null},e.prototype.isErrorResponse=function(t){return!!t&&!!t.error},e.prototype.getAccessToken=function(){return o(this,void 0,void 0,function(){var t;return i(this,function(e){switch(e.label){case 0:return[4,c.client.request("module.spotify.authentication","spotify.refresh_access_token")];case 1:return t=e.sent(),t.accessToken?(this.setAccessToken(t.accessToken),this.setState({authState:a.Authenticated}),[2]):(window.location.assign("http://h.krik.co:9000/spotify/login?redirect_url="+encodeURIComponent(window.location.href)),[2])}})})},e.prototype.setAccessToken=function(t){console.log(t),l.api.setAccessToken(t)},e}(s.Component);e.default=p},28:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1],a=n||e+"Subscription",s=function(t){function n(i,a){r(this,n);var s=o(this,t.call(this,i,a));return s[e]=i.store,s}return i(n,t),n.prototype.getChildContext=function(){var t;return t={},t[e]=this[e],t[a]=null,t},n.prototype.render=function(){return L.Children.only(this.props.children)},n}(L.Component);return s.propTypes={store:F.isRequired,children:q.a.element.isRequired},s.childContextTypes=(t={},t[e]=F.isRequired,t[a]=H,t),s}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(){var t=[],e=[];return{clear:function(){e=K,t=K},notify:function(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},get:function(){return e},subscribe:function(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function(){r&&t!==K&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function f(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function d(){}function h(t,e){var n={run:function(r){try{var o=t(e.getState(),r);(o!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=o,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}}};return n}function y(t){var e,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.getDisplayName,i=void 0===o?function(t){return"ConnectAdvanced("+t+")"}:o,a=r.methodName,s=void 0===a?"connectAdvanced":a,u=r.renderCountProp,y=void 0===u?void 0:u,v=r.shouldHandleStateChanges,b=void 0===v||v,m=r.storeKey,w=void 0===m?"store":m,g=r.withRef,k=void 0!==g&&g,_=f(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),P=w+"Subscription",S=Y++,E=(e={},e[w]=F,e[P]=H,e),O=(n={},n[P]=H,n);return function(e){J()("function"==typeof e,"You must pass a component to the function returned by "+s+". Instead received "+JSON.stringify(e));var n=e.displayName||e.name||"Component",r=i(n),o=X({},_,{getDisplayName:i,methodName:s,renderCountProp:y,shouldHandleStateChanges:b,storeKey:w,withRef:k,displayName:r,wrappedComponentName:n,WrappedComponent:e}),a=function(n){function i(t,e){c(this,i);var o=l(this,n.call(this,t,e));return o.version=S,o.state={},o.renderCount=0,o.store=t[w]||e[w],o.propsMode=Boolean(t[w]),o.setWrappedInstance=o.setWrappedInstance.bind(o),J()(o.store,'Could not find "'+w+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+w+'" as a prop to "'+r+'".'),o.initSelector(),o.initSubscription(),o}return p(i,n),i.prototype.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return t={},t[P]=e||this.context[P],t},i.prototype.componentDidMount=function(){b&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},i.prototype.componentWillReceiveProps=function(t){this.selector.run(t)},i.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},i.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=d,this.store=null,this.selector.run=d,this.selector.shouldComponentUpdate=!1},i.prototype.getWrappedInstance=function(){return J()(k,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+s+"() call."),this.wrappedInstance},i.prototype.setWrappedInstance=function(t){this.wrappedInstance=t},i.prototype.initSelector=function(){var e=t(this.store.dispatch,o);this.selector=h(e,this.store),this.selector.run(this.props)},i.prototype.initSubscription=function(){if(b){var t=(this.propsMode?this.props:this.context)[P];this.subscription=new Q(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},i.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(Z)):this.notifyNestedSubs()},i.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},i.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},i.prototype.addExtraProps=function(t){if(!(k||y||this.propsMode&&this.subscription))return t;var e=X({},t);return k&&(e.ref=this.setWrappedInstance),y&&(e[y]=this.renderCount++),this.propsMode&&this.subscription&&(e[P]=this.subscription),e},i.prototype.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(L.createElement)(e,this.addExtraProps(t.props))},i}(L.Component);return a.WrappedComponent=e,a.displayName=r,a.childContextTypes=O,a.contextTypes=E,a.propTypes=E,B()(a,e)}}function v(t,e){return t===e?0!==t||0!==e||1/t==1/e:t!==t&&e!==e}function b(t,e){if(v(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!$.call(e,n[o])||!v(t[n[o]],e[n[o]]))return!1;return!0}function m(t){return function(e,n){function r(){return o}var o=t(e,n);return r.dependsOnOwnProps=!1,r}}function w(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function g(t,e){return function(e,n){var r=(n.displayName,function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)});return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=w(t);var o=r(e,n);return"function"==typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=w(o),o=r(e,n)),o},r}}function k(t){return"function"==typeof t?g(t,"mapDispatchToProps"):void 0}function _(t){return t?void 0:m(function(t){return{dispatch:t}})}function P(t){return t&&"object"==typeof t?m(function(e){return Object(tt.bindActionCreators)(t,e)}):void 0}function S(t){return"function"==typeof t?g(t,"mapStateToProps"):void 0}function E(t){return t?void 0:m(function(){return{}})}function O(t,e,n){return rt({},n,t,e)}function T(t){return function(e,n){var r=(n.displayName,n.pure),o=n.areMergedPropsEqual,i=!1,a=void 0;return function(e,n,s){var u=t(e,n,s);return i?r&&o(u,a)||(a=u):(i=!0,a=u),a}}}function C(t){return"function"==typeof t?T(t):void 0}function j(t){return t?void 0:function(){return O}}function x(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function R(t,e,n,r){return function(o,i){return n(t(o,i),e(r,i),i)}}function M(t,e,n,r,o){function i(o,i){return h=o,y=i,v=t(h,y),b=e(r,y),m=n(v,b,y),d=!0,m}function a(){return v=t(h,y),e.dependsOnOwnProps&&(b=e(r,y)),m=n(v,b,y)}function s(){return t.dependsOnOwnProps&&(v=t(h,y)),e.dependsOnOwnProps&&(b=e(r,y)),m=n(v,b,y)}function u(){var e=t(h,y),r=!f(e,v);return v=e,r&&(m=n(v,b,y)),m}function c(t,e){var n=!p(e,y),r=!l(t,h);return h=t,y=e,n&&r?a():n?s():r?u():m}var l=o.areStatesEqual,p=o.areOwnPropsEqual,f=o.areStatePropsEqual,d=!1,h=void 0,y=void 0,v=void 0,b=void 0,m=void 0;return function(t,e){return d?c(t,e):i(t,e)}}function A(t,e){var n=e.initMapStateToProps,r=e.initMapDispatchToProps,o=e.initMergeProps,i=x(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(t,i),s=r(t,i),u=o(t,i);return(i.pure?M:R)(a,s,u,t,i)}function N(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function I(t,e,n){for(var r=e.length-1;r>=0;r--){var o=e[r](t);if(o)return o}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function U(t,e){return t===e}Object.defineProperty(e,"__esModule",{value:!0});var L=n(3),D=n(98),q=n.n(D),H=q.a.shape({trySubscribe:q.a.func.isRequired,tryUnsubscribe:q.a.func.isRequired,notifyNestedSubs:q.a.func.isRequired,isSubscribed:q.a.func.isRequired}),F=q.a.shape({subscribe:q.a.func.isRequired,dispatch:q.a.func.isRequired,getState:q.a.func.isRequired}),G=a(),W=n(99),B=n.n(W),z=n(9),J=n.n(z),K=null,V={notify:function(){}},Q=function(){function t(e,n,r){s(this,t),this.store=e,this.parentSub=n,this.onStateChange=r,this.unsubscribe=null,this.listeners=V}return t.prototype.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},t.prototype.notifyNestedSubs=function(){this.listeners.notify()},t.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},t.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=u())},t.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=V)},t}(),X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Y=0,Z={},$=Object.prototype.hasOwnProperty,tt=n(56),et=(n(57),[k,_,P]),nt=[S,E],rt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ot=[C,j],it=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},at=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.connectHOC,n=void 0===e?y:e,r=t.mapStateToPropsFactories,o=void 0===r?nt:r,i=t.mapDispatchToPropsFactories,a=void 0===i?et:i,s=t.mergePropsFactories,u=void 0===s?ot:s,c=t.selectorFactory,l=void 0===c?A:c;return function(t,e,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i.pure,c=void 0===s||s,p=i.areStatesEqual,f=void 0===p?U:p,d=i.areOwnPropsEqual,h=void 0===d?b:d,y=i.areStatePropsEqual,v=void 0===y?b:y,m=i.areMergedPropsEqual,w=void 0===m?b:m,g=N(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),k=I(t,o,"mapStateToProps"),_=I(e,a,"mapDispatchToProps"),P=I(r,u,"mergeProps");return n(l,it({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:k,initMapDispatchToProps:_,initMergeProps:P,pure:c,areStatesEqual:f,areOwnPropsEqual:h,areStatePropsEqual:v,areMergedPropsEqual:w},g))}}();n.d(e,"Provider",function(){return G}),n.d(e,"createProvider",function(){return a}),n.d(e,"connectAdvanced",function(){return y}),n.d(e,"connect",function(){return at})},56:function(t,e,n){"use strict";function r(t,e,n){function o(){b===v&&(b=v.slice())}function i(){return y}function a(t){if("function"!=typeof t)throw new Error("Expected listener to be a function.");var e=!0;return o(),b.push(t),function(){if(e){e=!1,o();var n=b.indexOf(t);b.splice(n,1)}}}function s(t){if(!Object(p.a)(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(m)throw new Error("Reducers may not dispatch actions.");try{m=!0,y=h(y,t)}finally{m=!1}for(var e=v=b,n=0;n<e.length;n++){(0,e[n])()}return t}function u(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");h=t,s({type:d.INIT})}function c(){var t,e=a;return t={subscribe:function(t){function n(){t.next&&t.next(i())}if("object"!=typeof t)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:e(n)}}},t[f.a]=function(){return this},t}var l;if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(r)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var h=t,y=e,v=[],b=v,m=!1;return s({type:d.INIT}),l={dispatch:s,subscribe:a,getState:i,replaceReducer:u},l[f.a]=c,l}function o(t,e){var n=e&&e.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function i(t){Object.keys(t).forEach(function(e){var n=t[e];if(void 0===n(void 0,{type:d.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+d.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function a(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var a=e[r];"function"==typeof t[a]&&(n[a]=t[a])}var s=Object.keys(n),u=void 0;try{i(n)}catch(t){u=t}return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(u)throw u;for(var r=!1,i={},a=0;a<s.length;a++){var c=s[a],l=n[c],p=t[c],f=l(p,e);if(void 0===f){var d=o(c,e);throw new Error(d)}i[c]=f,r=r||f!==p}return r?i:t}}function s(t,e){return function(){return e(t.apply(void 0,arguments))}}function u(t,e){if("function"==typeof t)return s(t,e);if("object"!=typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},o=0;o<n.length;o++){var i=n[o],a=t[i];"function"==typeof a&&(r[i]=s(a,e))}return r}function c(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}function l(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(n,r,o){var i=t(n,r,o),a=i.dispatch,s=[],u={getState:i.getState,dispatch:function(t){return a(t)}};return s=e.map(function(t){return t(u)}),a=c.apply(void 0,s)(i.dispatch),h({},i,{dispatch:a})}}}Object.defineProperty(e,"__esModule",{value:!0});var p=n(57),f=n(206),d={INIT:"@@redux/INIT"},h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};n.d(e,"createStore",function(){return r}),n.d(e,"combineReducers",function(){return a}),n.d(e,"bindActionCreators",function(){return u}),n.d(e,"applyMiddleware",function(){return l}),n.d(e,"compose",function(){return c})},57:function(t,e,n){"use strict";function r(t){var e=v.call(t,m),n=t[m];try{t[m]=void 0;var r=!0}catch(t){}var o=b.call(t);return r&&(e?t[m]=n:delete t[m]),o}function o(t){return k.call(t)}function i(t){return null==t?void 0===t?S:P:E&&E in Object(t)?w(t):_(t)}function a(t,e){return function(n){return t(e(n))}}function s(t){return null!=t&&"object"==typeof t}function u(t){if(!x(t)||O(t)!=R)return!1;var e=j(t);if(null===e)return!0;var n=I.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&N.call(n)==U}var c=n(205),l="object"==typeof self&&self&&self.Object===Object&&self,p=c.a||l||Function("return this")(),f=p,d=f.Symbol,h=d,y=Object.prototype,v=y.hasOwnProperty,b=y.toString,m=h?h.toStringTag:void 0,w=r,g=Object.prototype,k=g.toString,_=o,P="[object Null]",S="[object Undefined]",E=h?h.toStringTag:void 0,O=i,T=a,C=T(Object.getPrototypeOf,Object),j=C,x=s,R="[object Object]",M=Function.prototype,A=Object.prototype,N=M.toString,I=A.hasOwnProperty,U=N.call(Object);e.a=u},61:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultPlayerState={playback:{isPlaying:!1,trackPosition:0},currentTrack:null,previousTracks:[],nextTracks:[]}},62:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var i=n(16),a=function(){function t(){}return t.prototype.construct=function(){},t.prototype.getCategories=function(){return r(this,void 0,void 0,function(){var t;return o(this,function(e){switch(e.label){case 0:return[4,i.api.getUserPlaylists()];case 1:return t=e.sent(),[2,t.items.map(function(t){return{id:t.id,name:t.name,image:t.images[0].url}})]}})})},t}();e.SpotifyLibraryBrowser=a},63:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function a(t){try{u(r.next(t))}catch(t){i(t)}}function s(t){try{u(r.throw(t))}catch(t){i(t)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(o)throw new TypeError("Generator is already executing.");for(;u;)try{if(o=1,i&&(a=i[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(i,n[1])).done)return a;switch(i=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,i=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],i=0}finally{o=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var o,i,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(e,"__esModule",{value:!0});var i=n(22),a=n(16),s=function(){function t(){var t=this;this.onStateUpdate=function(e){var n=e.track_window.current_track,r=t.playerState={playback:{isPlaying:!e.paused,trackPosition:e.position},currentTrack:{uri:null,id:null,name:n.name,duration:n.duration_ms,album:{name:n.album.name,images:[]},artists:n.artists.map(function(t){return{name:t.name}})},nextTracks:[],previousTracks:[]};t.eventListenerMap.stateUpdate.forEach(function(t){return t(r)})},this.onPlaybackError=function(t){},this.eventListenerMap={stateUpdate:[]},this.libElement=null,this.player=null,this.playerDeviceId=null,this.playerState=null,this.playbackInterval=null}return t.prototype.initialize=function(){var t=this;return new Promise(function(e,n){window.onSpotifyWebPlaybackSDKReady=function(){return r(t,void 0,void 0,function(){var t=this;return o(this,function(i){switch(i.label){case 0:return this.player=new Spotify.Player({name:"krikCar",getOAuthToken:function(t){var e=a.api.getAccessToken();if(null===e)return void n({type:"authentication"});t(e)}}),this.player.addListener("authentication_error",function(t){t.message;n({type:"authentication"})}),this.player.addListener("initialization_error",function(t){var e=t.message;n(new Error(e))}),this.player.addListener("account_error",function(t){var e=t.message;n(new Error(e))}),this.player.addListener("player_state_changed",this.onStateUpdate),this.player.addListener("playback_error",this.onPlaybackError),this.player.addListener("ready",function(i){var a=i.device_id;return r(t,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return null===this.player?[3,2]:[4,this.onPlayerReady(this.player,a)];case 1:return t.sent(),e(),[3,3];case 2:n(),t.label=3;case 3:return[2]}})})}),[4,this.player.connect()];case 1:return i.sent(),[2]}})})},t.libElement=document.createElement("script"),t.libElement.src="https://sdk.scdn.co/spotify-player.js",window.document.head.appendChild(t.libElement)})},t.prototype.dispose=function(){return r(this,void 0,void 0,function(){var t=this;return o(this,function(e){return null===this.libElement||null===this.player?[2]:(Object.getOwnPropertyNames(this.eventListenerMap).forEach(function(e){t.eventListenerMap[e]=[]}),this.player.disconnect(),this.player.removeListener("initialization_error"),this.player.removeListener("authentication_error"),this.player.removeListener("account_error"),this.player.removeListener("playback_error"),this.player.removeListener("player_state_changed"),this.player.removeListener("ready"),window.document.head.removeChild(this.libElement),this.playerState=null,this.playerDeviceId=null,this.player=null,this.libElement=null,[2])})})},t.prototype.addEventListener=function(t,e){this.eventListenerMap[t].push(e)},t.prototype.setTracks=function(t){return r(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.play=function(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return null===this.player?[2]:[4,this.player.togglePlay()];case 1:return t.sent(),[2]}})})},t.prototype.pause=function(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return null===this.player?[2]:[4,this.player.pause()];case 1:return t.sent(),[2]}})})},t.prototype.nextTrack=function(){return r(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.previousTrack=function(){return r(this,void 0,void 0,function(){return o(this,function(t){return[2]})})},t.prototype.onPlayerReady=function(t,e){return r(this,void 0,void 0,function(){var n;return o(this,function(r){switch(r.label){case 0:return this.playerDeviceId=e,[4,a.api.transferMyPlayback([e])];case 1:return r.sent(),[4,t.getCurrentState()];case 2:return null===(n=r.sent())?(this.playerState=i.defaultPlayerState,[2]):(this.onStateUpdate(n),[2])}})})},t}();e.SpotifyPlayer=s},97:function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},98:function(t,e,n){t.exports=n(209)()}},[113]);